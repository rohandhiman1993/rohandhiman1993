<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Aws cli | CodingDais</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Coding Dais is the best online web, mobile, game development, and programming tutorials for all of the latest web, mobile, game technologies including Node.js, Angular, React.js, Vue.js, Laravel, Django, Spring Boot, Php, Python, Javascript, Java, C# and much more">
    
    <link rel="preload" href="/assets/css/0.styles.bbb302d8.css" as="style"><link rel="preload" href="/assets/js/app.7c9659b3.js" as="script"><link rel="preload" href="/assets/js/2.687c71a6.js" as="script"><link rel="preload" href="/assets/js/1.fc8a768a.js" as="script"><link rel="preload" href="/assets/js/32.0060774c.js" as="script"><link rel="prefetch" href="/assets/js/10.60b29b94.js"><link rel="prefetch" href="/assets/js/100.c4cd97e6.js"><link rel="prefetch" href="/assets/js/101.dff7b5b9.js"><link rel="prefetch" href="/assets/js/102.ea0e4bea.js"><link rel="prefetch" href="/assets/js/103.aaaa4d06.js"><link rel="prefetch" href="/assets/js/104.f93c5039.js"><link rel="prefetch" href="/assets/js/105.e157ecec.js"><link rel="prefetch" href="/assets/js/106.74bc8562.js"><link rel="prefetch" href="/assets/js/107.5e670a0c.js"><link rel="prefetch" href="/assets/js/108.9cbe536e.js"><link rel="prefetch" href="/assets/js/109.a2f94667.js"><link rel="prefetch" href="/assets/js/11.0921a871.js"><link rel="prefetch" href="/assets/js/110.4d869d3f.js"><link rel="prefetch" href="/assets/js/111.3bd6b5bf.js"><link rel="prefetch" href="/assets/js/112.36cff9ca.js"><link rel="prefetch" href="/assets/js/113.7707087b.js"><link rel="prefetch" href="/assets/js/114.41b2c36a.js"><link rel="prefetch" href="/assets/js/115.941d9a3d.js"><link rel="prefetch" href="/assets/js/116.d2b8b744.js"><link rel="prefetch" href="/assets/js/117.8ede0085.js"><link rel="prefetch" href="/assets/js/118.37c6c4eb.js"><link rel="prefetch" href="/assets/js/119.fceff111.js"><link rel="prefetch" href="/assets/js/12.4ef9a524.js"><link rel="prefetch" href="/assets/js/120.95c4fc42.js"><link rel="prefetch" href="/assets/js/121.a456445e.js"><link rel="prefetch" href="/assets/js/122.f01cebce.js"><link rel="prefetch" href="/assets/js/123.e51bcf2b.js"><link rel="prefetch" href="/assets/js/124.5d5f30b3.js"><link rel="prefetch" href="/assets/js/125.bc4fe60a.js"><link rel="prefetch" href="/assets/js/126.d430fe91.js"><link rel="prefetch" href="/assets/js/127.21ab94af.js"><link rel="prefetch" href="/assets/js/128.63d6a976.js"><link rel="prefetch" href="/assets/js/129.ff50c3d2.js"><link rel="prefetch" href="/assets/js/13.8c65a56a.js"><link rel="prefetch" href="/assets/js/130.e805a4ee.js"><link rel="prefetch" href="/assets/js/131.76889df9.js"><link rel="prefetch" href="/assets/js/132.d7cb8041.js"><link rel="prefetch" href="/assets/js/133.27fbd9ce.js"><link rel="prefetch" href="/assets/js/134.42ff472d.js"><link rel="prefetch" href="/assets/js/135.306f22f9.js"><link rel="prefetch" href="/assets/js/136.40f9737e.js"><link rel="prefetch" href="/assets/js/137.c48d6a69.js"><link rel="prefetch" href="/assets/js/138.cd4201e6.js"><link rel="prefetch" href="/assets/js/139.ab6ff0df.js"><link rel="prefetch" href="/assets/js/14.562947fc.js"><link rel="prefetch" href="/assets/js/140.856b35ee.js"><link rel="prefetch" href="/assets/js/141.0630d225.js"><link rel="prefetch" href="/assets/js/142.80c7ea4e.js"><link rel="prefetch" href="/assets/js/143.1fbbe998.js"><link rel="prefetch" href="/assets/js/144.a2c3a4b8.js"><link rel="prefetch" href="/assets/js/145.96b7f9b4.js"><link rel="prefetch" href="/assets/js/146.717feb96.js"><link rel="prefetch" href="/assets/js/147.afa93806.js"><link rel="prefetch" href="/assets/js/148.9feb68b5.js"><link rel="prefetch" href="/assets/js/149.839e38fc.js"><link rel="prefetch" href="/assets/js/15.58576da3.js"><link rel="prefetch" href="/assets/js/150.d68e0b09.js"><link rel="prefetch" href="/assets/js/151.b2518ff3.js"><link rel="prefetch" href="/assets/js/152.05ed804b.js"><link rel="prefetch" href="/assets/js/153.005b2af1.js"><link rel="prefetch" href="/assets/js/154.6234ac64.js"><link rel="prefetch" href="/assets/js/155.c14d10fe.js"><link rel="prefetch" href="/assets/js/156.3fa7f00b.js"><link rel="prefetch" href="/assets/js/157.78b410d2.js"><link rel="prefetch" href="/assets/js/158.32689fdb.js"><link rel="prefetch" href="/assets/js/159.f570e29e.js"><link rel="prefetch" href="/assets/js/16.295fa0e8.js"><link rel="prefetch" href="/assets/js/160.f6b78a8f.js"><link rel="prefetch" href="/assets/js/161.96f3d753.js"><link rel="prefetch" href="/assets/js/162.1a19bc9e.js"><link rel="prefetch" href="/assets/js/163.b1eb701e.js"><link rel="prefetch" href="/assets/js/164.5e4db0da.js"><link rel="prefetch" href="/assets/js/165.fc856435.js"><link rel="prefetch" href="/assets/js/166.1fe1838c.js"><link rel="prefetch" href="/assets/js/167.7e5e2006.js"><link rel="prefetch" href="/assets/js/168.06f65944.js"><link rel="prefetch" href="/assets/js/169.f7cd8025.js"><link rel="prefetch" href="/assets/js/17.fd550f40.js"><link rel="prefetch" href="/assets/js/170.85e03601.js"><link rel="prefetch" href="/assets/js/18.f6ff2228.js"><link rel="prefetch" href="/assets/js/19.92f5cd3c.js"><link rel="prefetch" href="/assets/js/20.1211d94e.js"><link rel="prefetch" href="/assets/js/21.ff069fa7.js"><link rel="prefetch" href="/assets/js/22.3988e024.js"><link rel="prefetch" href="/assets/js/23.6d93e3e2.js"><link rel="prefetch" href="/assets/js/24.9a41c28e.js"><link rel="prefetch" href="/assets/js/25.bf7c947e.js"><link rel="prefetch" href="/assets/js/26.9678f5db.js"><link rel="prefetch" href="/assets/js/27.3a36bc5b.js"><link rel="prefetch" href="/assets/js/28.857f28ed.js"><link rel="prefetch" href="/assets/js/29.9eeb8a53.js"><link rel="prefetch" href="/assets/js/3.33514a70.js"><link rel="prefetch" href="/assets/js/30.73a4a261.js"><link rel="prefetch" href="/assets/js/31.30605b95.js"><link rel="prefetch" href="/assets/js/33.f421bb5f.js"><link rel="prefetch" href="/assets/js/34.5a1506e6.js"><link rel="prefetch" href="/assets/js/35.c3c8d07f.js"><link rel="prefetch" href="/assets/js/36.c7be0120.js"><link rel="prefetch" href="/assets/js/37.87a2aa15.js"><link rel="prefetch" href="/assets/js/38.ee14051e.js"><link rel="prefetch" href="/assets/js/39.7613f277.js"><link rel="prefetch" href="/assets/js/4.3f408848.js"><link rel="prefetch" href="/assets/js/40.c6f4422a.js"><link rel="prefetch" href="/assets/js/41.f42fcdb2.js"><link rel="prefetch" href="/assets/js/42.20d898f5.js"><link rel="prefetch" href="/assets/js/43.e193b8e4.js"><link rel="prefetch" href="/assets/js/44.15ac039c.js"><link rel="prefetch" href="/assets/js/45.2598277e.js"><link rel="prefetch" href="/assets/js/46.edfb1345.js"><link rel="prefetch" href="/assets/js/47.6edfcd44.js"><link rel="prefetch" href="/assets/js/48.9f160e88.js"><link rel="prefetch" href="/assets/js/49.34cfe5cf.js"><link rel="prefetch" href="/assets/js/5.5cb44e85.js"><link rel="prefetch" href="/assets/js/50.b456f2ec.js"><link rel="prefetch" href="/assets/js/51.72a78dc9.js"><link rel="prefetch" href="/assets/js/52.9c15862e.js"><link rel="prefetch" href="/assets/js/53.645877e4.js"><link rel="prefetch" href="/assets/js/54.6cc74637.js"><link rel="prefetch" href="/assets/js/55.0e08aaa3.js"><link rel="prefetch" href="/assets/js/56.94556843.js"><link rel="prefetch" href="/assets/js/57.f362f828.js"><link rel="prefetch" href="/assets/js/58.43e031c6.js"><link rel="prefetch" href="/assets/js/59.d8f3db06.js"><link rel="prefetch" href="/assets/js/6.00b8267b.js"><link rel="prefetch" href="/assets/js/60.7212e15a.js"><link rel="prefetch" href="/assets/js/61.1d2b0403.js"><link rel="prefetch" href="/assets/js/62.7f44df62.js"><link rel="prefetch" href="/assets/js/63.3b154e07.js"><link rel="prefetch" href="/assets/js/64.91bdc2de.js"><link rel="prefetch" href="/assets/js/65.4e999a7c.js"><link rel="prefetch" href="/assets/js/66.b5cce7aa.js"><link rel="prefetch" href="/assets/js/67.1fcce99a.js"><link rel="prefetch" href="/assets/js/68.a6ee9088.js"><link rel="prefetch" href="/assets/js/69.64c3040d.js"><link rel="prefetch" href="/assets/js/7.5b9b1097.js"><link rel="prefetch" href="/assets/js/70.06f7562e.js"><link rel="prefetch" href="/assets/js/71.eece94e0.js"><link rel="prefetch" href="/assets/js/72.66a0cb25.js"><link rel="prefetch" href="/assets/js/73.82f6ef47.js"><link rel="prefetch" href="/assets/js/74.210b4038.js"><link rel="prefetch" href="/assets/js/75.249a098d.js"><link rel="prefetch" href="/assets/js/76.3cdbd8d5.js"><link rel="prefetch" href="/assets/js/77.49c28294.js"><link rel="prefetch" href="/assets/js/78.aa99c0cc.js"><link rel="prefetch" href="/assets/js/79.a16a5c45.js"><link rel="prefetch" href="/assets/js/80.aa9b67fd.js"><link rel="prefetch" href="/assets/js/81.9e50680c.js"><link rel="prefetch" href="/assets/js/82.3a8f8ff0.js"><link rel="prefetch" href="/assets/js/83.b2777811.js"><link rel="prefetch" href="/assets/js/84.0dc6d8c8.js"><link rel="prefetch" href="/assets/js/85.85e64358.js"><link rel="prefetch" href="/assets/js/86.271432e6.js"><link rel="prefetch" href="/assets/js/87.4a5f08d4.js"><link rel="prefetch" href="/assets/js/88.d8ee7c09.js"><link rel="prefetch" href="/assets/js/89.1ae3fd72.js"><link rel="prefetch" href="/assets/js/90.5b48a5e7.js"><link rel="prefetch" href="/assets/js/91.d73e94e4.js"><link rel="prefetch" href="/assets/js/92.7e62b86d.js"><link rel="prefetch" href="/assets/js/93.dfb806f1.js"><link rel="prefetch" href="/assets/js/94.5770d499.js"><link rel="prefetch" href="/assets/js/95.984306e7.js"><link rel="prefetch" href="/assets/js/96.e3b1c6aa.js"><link rel="prefetch" href="/assets/js/97.8f7cc5a1.js"><link rel="prefetch" href="/assets/js/98.fc820fcf.js"><link rel="prefetch" href="/assets/js/99.8a746732.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9b93fcb7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bbb302d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CodingDais</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouds" class="dropdown-title"><span class="title">Clouds</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouds" class="mobile-dropdown-title"><span class="title">Clouds</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aws/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Aws
</a></li><li class="dropdown-item"><!----> <a href="/digitalocean/" class="nav-link">
  DigitalOcean
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Framework" class="dropdown-title"><span class="title">Framework</span> <span class="arrow down"></span></button> <button type="button" aria-label="Framework" class="mobile-dropdown-title"><span class="title">Framework</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  Other
</a></li><li class="dropdown-item"><!----> <a href="/vuejs/" class="nav-link">
  Vuejs
</a></li><li class="dropdown-item"><!----> <a href="/reactjs/" class="nav-link">
  Reactjs
</a></li><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">
  React Native
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/laravel/" class="nav-link">
  Laravel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/csharp/" class="nav-link">
  Csharp
</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/ts/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/mongodb/" class="nav-link">
  MongoDb
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/#git-github" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/#ssh-besic" class="nav-link">
  SSH
</a></li><li class="dropdown-item"><!----> <a href="/tools/#docker" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/tools/#crome-extension" class="nav-link">
  Crome Extension
</a></li><li class="dropdown-item"><!----> <a href="/tools/linux.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/resume/" class="nav-link">
  Contact
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouds" class="dropdown-title"><span class="title">Clouds</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouds" class="mobile-dropdown-title"><span class="title">Clouds</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aws/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Aws
</a></li><li class="dropdown-item"><!----> <a href="/digitalocean/" class="nav-link">
  DigitalOcean
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Framework" class="dropdown-title"><span class="title">Framework</span> <span class="arrow down"></span></button> <button type="button" aria-label="Framework" class="mobile-dropdown-title"><span class="title">Framework</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/flutter/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  Other
</a></li><li class="dropdown-item"><!----> <a href="/vuejs/" class="nav-link">
  Vuejs
</a></li><li class="dropdown-item"><!----> <a href="/reactjs/" class="nav-link">
  Reactjs
</a></li><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">
  React Native
</a></li><li class="dropdown-item"><!----> <a href="/nodejs/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/laravel/" class="nav-link">
  Laravel
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/csharp/" class="nav-link">
  Csharp
</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/ts/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/mongodb/" class="nav-link">
  MongoDb
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/#git-github" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/#ssh-besic" class="nav-link">
  SSH
</a></li><li class="dropdown-item"><!----> <a href="/tools/#docker" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/tools/#crome-extension" class="nav-link">
  Crome Extension
</a></li><li class="dropdown-item"><!----> <a href="/tools/linux.html" class="nav-link">
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/resume/" class="nav-link">
  Contact
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="aws-cli"><a href="#aws-cli" class="header-anchor">#</a> Aws cli</h2> <p><code>aws --version</code></p> <p><code>aws configure</code></p> <p><code>aws configure list</code></p> <p><code>aws configure get region --profile default</code></p> <p><code>aws configure set region ap-south-1</code></p> <p><code>aws configure import --csv file://credentials.csv</code></p> <p><code>aws configure list-profiles</code></p> <h2 id="lambda-cli"><a href="#lambda-cli" class="header-anchor">#</a> Lambda cli</h2> <p><code>aws lambda list-functions</code></p> <p><code>aws lambda get-function --function-name mylambdafun</code></p> <p>url [https://docs.aws.amazon.com/cli/latest/reference/lambda/]</p> <p>invoke lambda</p> <div class="language-bash extra-class"><pre class="language-bash"><code>aws lambda invoke <span class="token punctuation">\</span>
	--function-name my-function <span class="token punctuation">\</span>
	--cli-binary-format raw-in-base64-out <span class="token punctuation">\</span>
	<span class="token parameter variable">--payload</span> <span class="token string">'{ &quot;&quot;key&quot;&quot;: &quot;&quot;value&quot;&quot; }'</span> <span class="token punctuation">\</span>
	response.json


<span class="token comment"># get response</span>
<span class="token comment"># {&quot;statusCode&quot;:200,&quot;body&quot;:&quot;\&quot;Hello from Lambda!\&quot;&quot;}</span>
</code></pre></div><h2 id="send-payload-by-file"><a href="#send-payload-by-file" class="header-anchor">#</a> send payload by file</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// event.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Invoke Command:</span>
aws lambda invoke --function-name my-function --cli-binary-format raw-in-base64-out <span class="token parameter variable">--payload</span> file://event.json response.json

<span class="token comment"># output</span>
<span class="token comment"># {&quot;statusCode&quot;:200,&quot;body&quot;:&quot;\&quot;Hello from Lambda!\&quot;&quot;}</span>


<span class="token comment"># get logs</span>

<span class="token comment"># Example retrieve a log ID</span>
aws lambda invoke --function-name my-function out --log-type Tail
</code></pre></div><h2 id="role"><a href="#role" class="header-anchor">#</a> Role</h2> <p>Create Execution Role for AWS Lambda functions with AWS CLI</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Run Command: with attarch policy</span>
aws iam create-role --role-name lambda-ex --assume-role-policy-document <span class="token string">'{&quot;Version&quot;: &quot;2012-10-17&quot;,&quot;Statement&quot;: [{ &quot;Effect&quot;: &quot;Allow&quot;, &quot;Principal&quot;: {&quot;Service&quot;: &quot;lambda.amazonaws.com&quot;}, &quot;Action&quot;: &quot;sts:AssumeRole&quot;}]}'</span>

</code></pre></div><h2 id="role-and-by-policy-file"><a href="#role-and-by-policy-file" class="header-anchor">#</a> Role and by policy file</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// file policy</span>
<span class="token comment">// trust-policy.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Principal&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Service&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lambda.amazonaws.com&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sts:AssumeRole&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># Run Command:</span>
aws iam create-role --role-name lambda-ex --assume-role-policy-document file://trust-policy.json


<span class="token comment"># atttach policy</span>

aws iam attach-role-policy --role-name lambda-ex --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole


</code></pre></div><h2 id="upload-zip-file"><a href="#upload-zip-file" class="header-anchor">#</a> upload zip file</h2> <p>Deploy Node.js Lambda functions with .zip file archives</p> <p>Run Command:
mac
<code>zip function.zip index.js</code></p> <p>go to index.js - right click - Send to -&gt; Compressed (zip) folder</p> <p>Create AWS Lambda function with .zip file using AWS CLI</p> <div class="language-bash extra-class"><pre class="language-bash"><code>
<span class="token comment"># Get Role:</span>
aws iam get-role --role-name lambda-ex

<span class="token comment"># arn:aws:iam::308360398142:role/lambda-ex</span>

<span class="token comment"># Run Command:</span>

aws lambda create-function <span class="token punctuation">\</span>
    --function-name my-function2 <span class="token punctuation">\</span>
    <span class="token parameter variable">--runtime</span> nodejs14.x <span class="token punctuation">\</span>
    --zip-file fileb://function.zip <span class="token punctuation">\</span>
    <span class="token parameter variable">--handler</span> index.handler <span class="token punctuation">\</span>
    <span class="token parameter variable">--role</span> arn:aws:iam::308360398142:role/lambda-ex
</code></pre></div><h2 id="invoke-lambda-functions-with-event-json-using-aws-cli"><a href="#invoke-lambda-functions-with-event-json-using-aws-cli" class="header-anchor">#</a> Invoke Lambda functions with event.json using AWS CLI</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// event.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Invoke Command:</span>
aws lambda invoke --function-name my-function2 --cli-binary-format raw-in-base64-out <span class="token parameter variable">--payload</span> file://event.json response.json
</code></pre></div><h2 id="aws-lambda-cloudwatch-logs-using-aws-cli"><a href="#aws-lambda-cloudwatch-logs-using-aws-cli" class="header-anchor">#</a> AWS Lambda CloudWatch Logs using AWS CLI</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 1- Get the log group name:</span>
aws logs describe-log-groups <span class="token variable"><span class="token variable">`</span>
	<span class="token parameter variable">--query</span> logGroups<span class="token punctuation">[</span>*<span class="token punctuation">]</span>.logGroupName

<span class="token comment"># 2- List the log streams for that log group:</span>
aws logs describe-log-streams <span class="token variable">`</span></span>
	--log-group-name <span class="token string">'/aws/lambda/my-function2'</span> <span class="token variable"><span class="token variable">`</span>
	<span class="token parameter variable">--query</span> logStreams<span class="token punctuation">[</span>*<span class="token punctuation">]</span>.logStreamName

<span class="token comment"># 3- Get the log events for that stream:</span>
aws logs get-log-events <span class="token variable">`</span></span>
	--log-group-name <span class="token string">'/aws/lambda/my-function2'</span> `
	--log-stream-name <span class="token string">'2022/05/10/[$LATEST]311cb43cd18843c2af37a60b2df0c110'</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7c9659b3.js" defer></script><script src="/assets/js/2.687c71a6.js" defer></script><script src="/assets/js/1.fc8a768a.js" defer></script><script src="/assets/js/32.0060774c.js" defer></script>
  </body>
</html>
